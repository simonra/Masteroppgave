<!DOCTYPE html>
<html>
<head>
    <meta charset=utf-8 />
    <title>Leaflet testing</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox.js/v2.1.6/mapbox.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox.js/v2.1.6/mapbox.css' rel='stylesheet' />
    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
</head>
<body>
<div id='map'></div>
    <script>
        L.mapbox.accessToken = 'pk.eyJ1IjoidGhyYXAiLCJhIjoidElmM085MCJ9.9DDe_Z6n7Qu8aok6oleAKA';
        // Replace 'examples.map-i87786ca' with your map id.
        var mapboxTiles = L.tileLayer('https://{s}.tiles.mapbox.com/v4/thrap.lm65o0j7/{z}/{x}/{y}.png?access_token=' + L.mapbox.accessToken, {
            attribution: '<a href="http://www.mapbox.com/about/maps/" target="_blank">Terms &amp; Feedback</a>'
        });

        var map = L.map('map')
                .addLayer(mapboxTiles)
                .setView([42.3610, -71.0587], 15);

        var addLineString = function(lineString) {
            var parse = function(str) {
                return str.replace("LINESTRING (","").replace(")","").split(", ").map(function(str) {
                    return {lon: str.split(" ")[0], lat: str.split(" ")[1]}
                })
            }

            var polyline = L.polyline(parse(lineString), {color: 'red'}).addTo(map);

            // zoom the map to the polyline
            map.fitBounds(polyline.getBounds());
        }

        addLineString("LINESTRING (10.440390247688416 63.43776115155533, 10.440385544726789 63.43779067374593, 10.440394615208564 63.437810920682594, 10.440397390981838 63.437817131956535, 10.440421659804048 63.437853874449125, 10.440463486044486 63.4379064612003, 10.440541423799262 63.43798448101553, 10.440632923802601 63.438065634116874, 10.440712292480171 63.43814729537328, 10.440795798673337 63.43824078073225, 10.44089771843112 63.43834474159111, 10.440989795499332 63.43843490467158, 10.441097564140065 63.438539952199996, 10.441191780452037 63.43864187105827, 10.441283716737058 63.43873292946798, 10.441360519235332 63.438818104180044, 10.441480142802122 63.43893702203827, 10.441575929241784 63.43902909882468, 10.441687421637765 63.439148656892414, 10.44174523801678 63.43921434140293, 10.441837737870927 63.43930182150898, 10.44192753700359 63.43939370244388, 10.442011620432865 63.439483609481215, 10.442081718759379 63.43956047789282, 10.442146813515093 63.43963089926441, 10.442229621061362 63.43971626510328, 10.442303573198664 63.43980674853517, 10.442358537252629 63.43987773763985, 10.442392236056502 63.439930968650295, 10.442424647941351 63.439979658265194, 10.442450784249592 63.44002994765049, 10.442462212521784 63.44007167134479, 10.442465079828885 63.440116721981596, 10.442448962657142 63.44015487492551, 10.442447822498316 63.440162034618204, 10.442411154867006 63.44020312297198, 10.44237219617619 63.44023335062782, 10.442312553387398 63.440267413857335, 10.442241906796108 63.44029483412838, 10.442160852644854 63.440324613501076, 10.442039406838953 63.44035580785075, 10.44187186169252 63.44039900922935, 10.441722866592784 63.44043921123832, 10.44160926855653 63.44047155148232, 10.441429017310558 63.44051885137077, 10.441271317760236 63.44056327091483, 10.441172555202792 63.440590688578254, 10.441098344218016 63.440615294325454, 10.441035873876748 63.44063742110113)")
        addLineString("LINESTRING (10.431657362666602 63.42540222646185, 10.431715702133568 63.42546433983775)")
        addLineString("LINESTRING (10.430722799730832 63.42471769473732, 10.430770011365333 63.42474888146889, 10.43085445088586 63.42481092821977, 10.43093618230112 63.424877388552694, 10.431040022432713 63.4249562444108, 10.43116654166171 63.4250439225027, 10.431253689942276 63.42510156413199, 10.431332424402179 63.42516163215306, 10.43143198776446 63.42524215089372, 10.431522279471634 63.42530528459697, 10.431657362666602 63.42540222646185)")
        addLineString("LINESTRING (10.160858172415596 63.41660288905753, 10.161009271880381 63.41662330503166, 10.16114256142894 63.416642217253575, 10.161309777942384 63.416662280253504, 10.16145948667059 63.416679050951885, 10.161636228906195 63.416702134890656, 10.16181895853233 63.41672542169136, 10.161980976148575 63.416752502742206, 10.162168485064226 63.41678314638847, 10.162287989309695 63.416812382752724, 10.162414268256171 63.41684904397765, 10.162536254015066 63.41688735828338, 10.162673450626185 63.41693068532534, 10.162816181704786 63.41697689811008, 10.162960121501593 63.417015956529674, 10.163079023429365 63.41704876935939, 10.163287161754946 63.4170998977913, 10.16347700467829 63.41714051216015, 10.16364873550995 63.417181411553976, 10.163815234651892 63.41721763635295, 10.163945023141109 63.417245421125294, 10.16409032484229 63.41727642991267, 10.164262510365807 63.417314645742685, 10.164386312491938 63.41734222714388, 10.164548067098373 63.417382787189524, 10.16471411564006 63.41742169380012, 10.164850077274021 63.41746047974211, 10.164975272483503 63.41749170541616, 10.16510630429348 63.417524028205776, 10.165269150954305 63.41757002078491, 10.165438136416233 63.41761532182942, 10.165591156215124 63.417660081554025, 10.165811160757038 63.41772419980707, 10.166025027993449 63.4177890091074, 10.16617820058782 63.41783287393545, 10.16634365027455 63.41787535581978, 10.16646425365458 63.41791002208599, 10.166578081538999 63.4179372634813, 10.16665903750949 63.417957095169626, 10.166740144513764 63.41797603252982, 10.166835674994822 63.41799276035998, 10.167014727522199 63.418014116799455, 10.167147239155014 63.41802580161181, 10.167348095115166 63.41804879572957, 10.167529446001913 63.41806843057799, 10.167689145006037 63.41808553290337, 10.167861607806275 63.41811026259356^C 10.169867863645209 63.419353719709505, 10.169911496610958 63.419416355938054, 10.169947528355356 63.41945265234098, 10.16998679787407 63.41949355533237, 10.170042638163531 63.41953142180226, 10.17010171631106 63.419573894845904, 10.170148482234257 63.41960605765807, 10.17019878764347 63.419641038473145, 10.170258620354337 63.41967904001777, 10.17032492874974 63.41972625471824, 10.170412589390692 63.419777789862486, 10.170488274702118 63.419828919514515, 10.170566559480594 63.41987653954916, 10.170657458850117 63.4199326811347, 10.17074621181231 63.419989649383226, 10.170831727244385 63.42004201100016, 10.17092217523922 63.42010083529003, 10.17103431316856 63.42017388464842, 10.171146602463418 63.42024603963436, 10.171200298957379 63.42028473239822, 10.1713241125962 63.420359975500354, 10.171462422592734 63.420456395191906)")
        addLineString("LINESTRING (10.160018561922096 63.41615528030919, 10.16008548095934 63.41621061575633, 10.160196820551102 63.4162881446623, 10.160324006231923 63.416378802755695, 10.160432564613025 63.416449041861576, 10.16051726381401 63.41649418751188, 10.160644659494896 63.41654797692127, 10.160747137991395 63.41658293280802, 10.160858172415596 63.41660288905753)")
        addLineString("LINESTRING (10.159855932608972 63.41595369206539, 10.159890467213211 63.416010626901794, 10.159947287411105 63.41607821137288, 10.160018561922096 63.41615528030919)")
        addLineString("LINESTRING (10.158874262512473 63.41435181756027, 10.15896521377344 63.41444304612854, 10.159044161619914 63.41452217497775, 10.159119905266584 63.41460839024524, 10.159171702756979 63.41469379273551, 10.15922540661086 63.41480354378002, 10.159281498138188 63.41488729314304, 10.159354705070411 63.41500040423495, 10.159395529892059 63.415115114507884, 10.159436293221173 63.41520643820061, 10.15946526528028 63.41530815454615, 10.159511531567652 63.41539067093085, 10.159568621002784 63.41544477370544, 10.15963605289219 63.41552081309427, 10.159709894341088 63.41558267951049, 10.159800852023427 63.41567390759164, 10.159845426442377 63.41575456760963, 10.159837843496243 63.415846948742036, 10.159842474455727 63.41591456107285, 10.159855932608972 63.41595369206539)")
        addLineString("LINESTRING (10.645207384718498 63.334380148531274, 10.645322869070323 63.33437755205928, 10.645454486853927 63.334398592080206, 10.645578209575303 63.33443164696681, 10.645679215399948 63.33446467433622, 10.645785713160736 63.334511495609114, 10.64584635105808 63.334576686325036, 10.645993338422416 63.334702550914656, 10.646061796390601 63.33476577693209, 10.646139126563002 63.33483647350805, 10.646205533385567 63.33491312229368, 10.646245940876643 63.33498987164981, 10.646282341127401 63.33506650725042, 10.64634123868072 63.335219344565566, 10.646437835633504 63.335413791119215, 10.646482965548282 63.33545922721726, 10.646553893864896 63.335492861971225, 10.646913967053274 63.33558567855111, 10.647204146802878 63.335651195229865, 10.647514486128955 63.335729004409714, 10.647795824644664 63.33577356471867, 10.648022586331534 63.33578229488844, 10.648147414377645 63.33577711939167, 10.648283940491845 63.33576061555933, 10.648441348604123 63.335738454714445, 10.648813139912956 63.33568777862122, 10.649009998123615 63.33565603240983, 10.649217915489817 63.335617433299106, 10.64943935090458 63.3355819422464, 10.649691982195305 63.33555190785005, 10.649924545646225 63.33552214672566, 10.650177583099612 63.335489419769985, 10.650431006362995 63.33545400881366, 10.650899457915365 63.33539908934331, 10.651339632373107 63.3353460089641, 10.65155160166946 63.335320111513866, 10.651728017872685 63.33529133707904, 10.652066147157502 63.3352117583243, 10.65221710976855 63.335166025276365, 10.652495972948152 63.33505496089313, 10.65260140643231 63.335006037615024, 10.652686364394029 63.33496008881171, 10.65277663674272 63.33491878859049, 10.652959479338941 63.33482098160555, 10.653059372514003 63.33475570805709, 10.653156090991846 63.33468493807249, 10.65324285208235 63.334613864078484, 10.653426934913568 63.33449451413466, 10.653612141911074 63.33435453108684, 10.653700118656701 63.33427539916259, 10.653788338641712 63.3342079690641, 10.65389525529923 63.334149195592126, 10.654007355036851 63.33408249421745, 10.654117335979182 63.33401662362117, 10.654206635791917 63.333942035757815, 10.654303888799413 63.333867690569825, 10.654415085804677 63.33379376208962, 10.654522159683625 63.33372061200861, 10.654617022178881 63.33364888902904, 10.654702153607795 63.33358855470074, 10.654787394131422 63.333540813615, 10.654880949992567 63.333504107582954, 10.654997207241736 63.33347618900525, 10.655266038084285 63.33343134551158, 10.655407050738736 63.33342486669917, 10.655477017332602 63.3334251998748)")

    </script>
</body>
</html>
