\chapter{Experiments and Results}
\label{cha:experiments_and_results}

In this chapter obtaining results from the MA will be considered. First there will be a section that looks into the results one gets when the MA is applied to the BHW1 benchmark \citep{BHWdocumentationSINTEF}. Because the smaller BHW instances are solved to optimality, this will give an idea of the MAs performance relative to known optimal solutions. Then there will be a section about obtaining results when map data from Trondheim is used as input to the MA.

\section{The BHW Benchmark}

Here the MAs performance on the BHW1 test case is going to be presented. Because the BHW1 benchmark has been solved optimally, and the solution is available, it can be used to verify the output of the MA. When comparing the fitness of the result from the MA with the fitness of the know solution one should be able to gauge the quality of the MAs output. And when observing the optimal route with the one made by the MA it should become apparent whether the MA is on the right track or not.

The section will start out by outlining the experimental plan for the tests. After the experimental plan has been given, the experimental setup will be described. And finally the results of the tests will be presented.

\subsection{Experimental Plan}

To be able to compare the routes generated by the MA and the known solution for the BHW1 case and their fintesses, clearly a result form running the MA on the BHW1 benchmark has to be obtained. The generated route and the known solutions' route should be displayed side by side, and the fintess the MA finds should be compared to the fitness of the solution.

\subsection{Experimental Setup}

To be able to compare the fintess and the rsulting routes produced by the MA with the known solution, the MA should be set to process the BHW1 case. The result should be compared to the one found on \citet{BHW1Solution}.

To get an idea of what fitnesses the MA genereally finds when processing the BHW1 case, it will be run 30 times for 50000 generations with the parameters shown in table \ref{tab:BHW1_params_table}. The fitness evaluation will be performed by evaluating the sum of the lengths of the splitted trips generated from each genome, due to that being how the fitness of the optimal solution is calculated. After having preformed the series of runs, the result from the best run is going to be picked and compared to the known solution.

{
\rowcolors{2}{gray!15}{white}
\begin{table}[tbph]
\centering
\begin{tabular}{rl}
\hline
\textbf{MA Parameter} & \textbf{Setting to be Used}     \\ \hline
Parent selection      & Fitness proportionate selection \\
Adult selection       & Overproduction                  \\
Mutation type         & Memetic improvement             \\
Population size       & 90 individuals                  \\ \hline
\end{tabular}
\caption{The parameters used for testing the MA on the BHW1 benchmark.}
\label{tab:BHW1_params_table}
\end{table}
}

\subsection{Results}

After running the MA on the BHW1 benchmark with the parameters described above, the average of the best, average, and standard deviation of fintess of the populations each generation were plotted. The charts can be seen in appendix \todo{Make plots and put them in appendix!!!}. The best result obtained was the run labeled as 2015-06-24T01-34-22Z, which can be found in the supplementary digital materials. It had a fintess of 360, which compared to the optimal fitness that is 337 is completely fine. The trips found by the MA and and the optimal trips from \citet{BHW1Solution} can be seen in table \ref{tab:BHW1_solutions_compared}. As can be seen in the table, the trips found by the MA show resemblance to those of the optimal solution. For an instance the first part of the fourth trip found by the MA is very similar to the first part of the third trip of the optimal solution.

{
\rowcolors{2}{gray!15}{white}
\begin{table}[tbph]
\centering
\resizebox{\textwidth}{!}{
\begin{tabular}{lll}
\toprule
                & \textbf{Result from MA}                         & \textbf{Known Optimal Solution} \\ \midrule
\textbf{Trip 1} & 1-A5-N12-E8-N12-A9-6-E4-6-N12 1                 & 1-A1-N2-E3-9-A11-11-E5-5 1     \\
\textbf{Trip 2} & 1-A1-N2-E3-9-A11-N11-E9-8-A10-N10-E10-9-E3-N2 1 & 1-A2-4-E2-2-E1-N3 5-E6-12 1    \\
\textbf{Trip 3} & 1-A2-N4-E2-N2-E3-N2-E1-N2 1                     & 1-A4-10-E11-N11-E9-8 7-E8-12 1 \\
\textbf{Trip 4} & 1-A4-N10-E11-N11-E5-5-E4-6-N12 1                & 1 12-A9-6-E4-5-A7-3-A6-N4 1    \\
\textbf{Trip 5} & 1-A3-N7-E7-N7-A8-6-N12 1                        & 1-A3-7-E7-8-A10-N10-E10-9 1    \\
\textbf{Trip 6} & 1-A5-N12-E6-5-A7-N3-A6-N4 1                     & 1-A5-N12 N7-A8-6 1             \\ \midrule
\textbf{Fitness}    &    \textbf{360}    &    \textbf{337}    \\ \bottomrule

\end{tabular}
} %close resizebox
\caption{The best result obtained from the MA and the known optimal solution for the BHW1 benchmark.}
\label{tab:BHW1_solutions_compared}
\end{table}
}

\section{Map Data from Trondheim}

\subsection{Experimental Plan}
Run the MA on map data from trondheim. Draw the resulting routes on a map. For verification purposes, compare the generated routes in fitness with the ones currently being driven, and see whether there are any obvious shortcomings in the drawn maps.

\subsection{Experimental Setup}
Run the MA a set number of times on the trondheim data, with the configuration found in the tuning chapter. When the output is given, strip it to the id-s without the extra nearp stuff, put it in a csv, and feed it into qgis. Draw a map, add hot water, and present results.
Explain how the existing routes are obtained and fed into the system.

\subsection{Results}
Show some nice graphs of how the fitness converges over time.
Show a created map, and refer to tiles with finer details in the appendix.
Show how the fintess of the pre-existing routes relates to the fintess of the calculated ones.
Discuss how the system does som smart things that humans would perhaps not (cover the city in a set of veird overlapping sections), how some interesting behavior like driving into a road, servicing it, and then driving back out the same end as it was started in and continue that route arises. Also highlight some missed one way roads and gaps in the map.


\cleardoublepage